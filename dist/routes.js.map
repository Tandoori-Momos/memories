{"version":3,"sources":["../src/routes.js"],"names":["FetchTweets","require","bodyParser","urlencodedParser","urlencoded","extended","module","exports","app","get","req","res","render","username","user","post","query","body","q","count","send","status"],"mappings":";;AAAA,IAAMA,cAAcC,QAAQ,qBAAR,CAApB;AACA,IAAMC,aAAaD,QAAQ,aAAR,CAAnB;AACA,IAAME,mBAAmBD,WAAWE,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAzB;;AAEAC,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAc;AAC7BA,MAAIC,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC9B,QAAI,UAAUD,GAAd,EAAmB;AACjBC,UAAIC,MAAJ,CAAW,WAAX,EAAwB;AACtBC,kBAAUH,IAAII,IAAJ,CAASD;AADG,OAAxB,EAEG;AACJ,KAJD,MAIO;AACLF,UAAIC,MAAJ,CAAW,OAAX;AACD;AACF,GARD;;AAUAJ,MAAIC,GAAJ,CAAQ,MAAR,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACjCA,QAAIC,MAAJ,CAAW,UAAX;AACD,GAFD;;AAIAJ,MAAIO,IAAJ,CAAS,MAAT,EAAiBZ,gBAAjB,EAAmC,UAASO,GAAT,EAAcC,GAAd,EAAmB;AAClD,QAAG,UAAUD,GAAb,EAAkB;AAChBV,kBAAYQ,GAAZ,EAAiB;AACfQ,eAAON,IAAIO,IAAJ,CAASC,CADD;AAEfC,eAAO;AAFQ,OAAjB;;AAKAR,UAAIS,IAAJ,CAAS,SAAT;AACD,KAPD,MAOO;AACLT,UAAIU,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,kBAArB;AACD;AACJ,GAXD;AAYD,CA3BD","file":"routes.js","sourcesContent":["const FetchTweets = require('./utils/fetchTweets');\r\nconst bodyParser = require('body-parser');\r\nconst urlencodedParser = bodyParser.urlencoded({ extended: false })\r\n\r\nmodule.exports = function(app) {\r\n  app.get('/', function(req, res) {\r\n    if ('user' in req) {\r\n      res.render('reg-index', {\r\n        username: req.user.username\r\n      });;\r\n    } else {\r\n      res.render('index');\r\n    }\r\n  });\r\n\r\n  app.get('/map', function(req, res) {\r\n    res.render('dash.ejs');\r\n  });\r\n\r\n  app.post('/map', urlencodedParser, function(req, res) {\r\n      if('body' in req) {\r\n        FetchTweets(app, {\r\n          query: req.body.q,\r\n          count: 1000\r\n        });\r\n\r\n        res.send('success');\r\n      } else {\r\n        res.status(404).send('Empty Request...');\r\n      }\r\n  });\r\n};\r\n"]}